(this["webpackJsonpi-can-help-login"]=this["webpackJsonpi-can-help-login"]||[]).push([[0],{113:function(e,t,n){},114:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),c=n(10),r=n.n(c),o=n(53),s=n(42),l=n(43),u=n(55),j=n(54),d=n(39),b=n(150),O=n(144),h=n(146),p=n(149),m=n(147),g=n(142),x=n(5),v=Object(g.a)({paper:{backgroundColor:"#c2ede4"},submitButton:{margin:"15px"},loginTitle:{fontSize:"30px",fontFamily:"roboto"},innerPaper:{margin:"10px"}});var f=function(e){var t=e.Login,n=e.error,a=v(),c=Object(i.useState)({Email:"",Password:""}),r=Object(o.a)(c,2),s=r[0],l=r[1];return Object(x.jsx)("form",{onSubmit:function(e){e.preventDefault(),t(s)},children:Object(x.jsx)(b.a,{width:"100%",children:Object(x.jsxs)(O.a,{className:a.paper,elevation:3,children:[Object(x.jsxs)(h.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",spacing:2,children:[Object(x.jsx)("h2",{className:a.loginTitle,children:"Login"}),Object(x.jsx)(b.a,{width:"80%",children:Object(x.jsxs)(O.a,{className:a.innerPaper,children:[Object(x.jsxs)(h.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",spacing:5,children:[Object(x.jsx)(h.a,{container:!0,item:!0,xs:9,children:Object(x.jsx)(p.a,{id:"outlined-basic",label:"Email",variant:"standard",type:"email",onChange:function(e){return l(Object(d.a)(Object(d.a)({},s),{},{Email:e.target.value}))},value:s.Email})}),Object(x.jsx)(h.a,{container:!0,item:!0,xs:9,children:Object(x.jsx)(p.a,{id:"outlined-basic",label:"Password",type:"password",variant:"standard",onChange:function(e){return l(Object(d.a)(Object(d.a)({},s),{},{Password:e.target.value}))},value:s.Password})})]}),""!==n?Object(x.jsx)("div",{className:"error",children:n}):""]})}),Object(x.jsx)(m.a,{className:a.submitButton,variant:"contained",type:"submit",value:"LOGIN",children:"LOGIN"})]}),Object(x.jsx)(h.a,{container:!0,direction:"column",alignItems:"center"})]})})})},y=n(51),C=n.n(y),k="https://ichntestserver.us1.gearhost.cloud",S=n(151),L=n(152),N=n(148),w=n(73),I=n.n(w),P=Object(g.a)({opportunityCard:{whiteSpace:"unset"},paper:{backgroundColor:"#ecf2d8"}});var E=function(e){var t=e.title,n=e.description,i=e.details,a=P(),c=a.opportunityCard;return a.paper,Object(x.jsx)(h.a,{container:!0,item:!0,xs:8,sm:6,md:4,className:c,children:Object(x.jsxs)(S.a,{children:[Object(x.jsxs)(L.a,{expandIcon:Object(x.jsx)(I.a,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:[t," ",Object(x.jsx)("br",{}),Object(x.jsx)("br",{})," ",n]}),Object(x.jsx)(N.a,{children:i})]})})},J=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).state={opportunities:[]},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getOpportunities()}},{key:"getOpportunities",value:function(){var e=this,t=JSON.parse(localStorage.getItem("login"));C.a.get("".concat(k,"/Provider/GetOpenOpportunities?daysOut=30"),{headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(t){return e.setState({opportunities:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(x.jsxs)("div",{className:"welcome",children:[Object(x.jsx)("h2",{children:"Welcome"}),Object(x.jsx)(h.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",spacing:2,children:this.state.opportunities.map((function(e,t){return Object(x.jsx)(E,{title:e.title,description:e.description,details:e.details},e.id)}))}),Object(x.jsx)("button",{onClick:this.props.Logout,children:"Logout"})]})}}]),n}(a.a.Component),B=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).Login=function(t){C.a.post("".concat(k,"/User/Login"),t).then((function(t){console.log(t),localStorage.setItem("login",JSON.stringify({login:!0,token:t.data.token})),e.storeCollector()})).catch((function(t){return e.setState({error:"Could not log in"})}))},e.Logout=function(){e.setState({login:!1})},e.state={Email:null,Password:null,login:!1,store:null,error:""},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.storeCollector()}},{key:"storeCollector",value:function(){var e=JSON.parse(localStorage.getItem("login"));e&&e.login&&this.setState({login:!0,store:e,error:""})}},{key:"render",value:function(){return Object(x.jsx)("div",{children:Object(x.jsx)("div",{children:this.state.login?Object(x.jsx)(J,{Logout:this.Logout}):Object(x.jsx)("div",{children:Object(x.jsx)(f,{Login:this.Login,error:this.state.error})})})})}}]),n}(a.a.Component);n(113);var D=function(){var e=Object(i.useState)({name:"",email:""}),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(x.jsx)("div",{className:"App",children:""!==n.email?Object(x.jsxs)("div",{className:"welcome",children:[Object(x.jsxs)("h2",{children:["Welcome, ",Object(x.jsx)("span",{children:n.name})]}),Object(x.jsx)("button",{onClick:function(){a({name:"",email:""})},children:"Logout"})]}):Object(x.jsx)("div",{children:Object(x.jsx)(B,{})})})};r.a.render(Object(x.jsx)(D,{}),document.getElementById("root"))}},[[114,1,2]]]);
//# sourceMappingURL=main.a0437c4d.chunk.js.map