(this["webpackJsonpi-can-help-login"]=this["webpackJsonpi-can-help-login"]||[]).push([[0],{122:function(e,t,n){},123:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(10),r=n.n(i),o=n(42),s=n(11),l=n(49),j=n(50),d=n(60),u=n(59),b=n(46),O=n(58),h=n(153),p=n(155),x=n(156),m=n(160),g=n(159),v=n(157),f=n(151),y=n(3),N=Object(f.a)({root:{marginTop:"30px"},paper:{backgroundColor:"#c2ede4"},submitButton:{margin:"15px"},loginTitle:{fontSize:"30px",fontFamily:"Roboto"},innerPaper:{marginTop:"10px",marginBottom:"20px"}});var C=function(e){var t=e.Login,n=e.error,c=N(),i=Object(a.useState)({Email:"",Password:""}),r=Object(O.a)(i,2),o=r[0],s=r[1];return Object(y.jsx)("form",{onSubmit:function(e){e.preventDefault(),t(o)},children:Object(y.jsx)(h.a,{maxWidth:"sm",className:c.root,children:Object(y.jsxs)(p.a,{className:c.paper,elevation:3,children:[Object(y.jsxs)(x.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",spacing:2,children:[Object(y.jsx)("h2",{className:c.loginTitle,children:"Login"}),Object(y.jsx)(m.a,{width:"70%",children:Object(y.jsxs)(p.a,{className:c.innerPaper,elevation:2,children:[Object(y.jsxs)(x.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",spacing:4,children:[Object(y.jsx)(x.a,{item:!0,children:Object(y.jsx)(g.a,{id:"outlined-basic",label:"Email",variant:"standard",type:"email",onChange:function(e){return s(Object(b.a)(Object(b.a)({},o),{},{Email:e.target.value}))},value:o.Email})}),Object(y.jsx)(x.a,{item:!0,children:Object(y.jsx)(g.a,{id:"outlined-basic",label:"Password",type:"password",variant:"standard",onChange:function(e){return s(Object(b.a)(Object(b.a)({},o),{},{Password:e.target.value}))},value:o.Password})})]}),""!==n?Object(y.jsx)("div",{className:"error",children:n}):""]})}),Object(y.jsx)(v.a,{className:c.submitButton,variant:"contained",type:"submit",value:"LOGIN",children:"LOGIN"})]}),Object(y.jsx)(x.a,{container:!0,direction:"column",alignItems:"center"})]})})})},S="https://ichntestserver.us1.gearhost.cloud",k=n.p+"static/media/logoNoBkg.b893081a.png",I=n(39),w=n.n(I),P=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).Login=function(t){w.a.post("".concat(S,"/User/Login"),t).then((function(t){console.log(t),localStorage.setItem("login",JSON.stringify({login:!0,token:t.data.token})),e.storeCollector(),window.location="/"})).catch((function(t){return e.setState({error:"Could not log in"})}))},e.state={Email:null,Password:null,login:!1,store:null,error:""},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.storeCollector()}},{key:"storeCollector",value:function(){var e=JSON.parse(localStorage.getItem("login"));e&&e.login&&this.setState({login:!0,store:e,error:""})}},{key:"render",value:function(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("img",{className:"login-logo",src:k,alt:"KyendR"}),Object(y.jsx)(C,{Login:this.Login,error:this.state.error})]})}}]),n}(c.a.Component),B=n(161),D=n(162),L=n(158),E=n(80),J=n.n(E),T=Object(f.a)({opportunityCard:{whiteSpace:"unset"},paper:{backgroundColor:"#ecf2d8"}});var A=function(e){var t=e.title,n=e.description,a=e.details,c=T(),i=c.opportunityCard;return c.paper,Object(y.jsx)(x.a,{container:!0,item:!0,xs:8,sm:6,md:4,className:i,children:Object(y.jsxs)(B.a,{children:[Object(y.jsxs)(D.a,{expandIcon:Object(y.jsx)(J.a,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:[t," ",Object(y.jsx)("br",{}),Object(y.jsx)("br",{})," ",n]}),Object(y.jsx)(L.a,{children:a})]})})},W=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={opportunities:[]},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.getOpportunities()}},{key:"getOpportunities",value:function(){var e=this,t=JSON.parse(localStorage.getItem("login"));w.a.get("".concat(S,"/Provider/GetOpenOpportunities?daysOut=60"),{headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(t){return e.setState({opportunities:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(y.jsx)("div",{children:Object(y.jsx)(x.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",spacing:2,children:this.state.opportunities.map((function(e,t){return Object(y.jsx)(A,{title:e.title,description:e.description,details:e.details},e.id)}))})})}}]),n}(c.a.Component);var M=function(){return Object(y.jsx)("div",{children:"To Be Developed"})};var F=function(){return Object(y.jsx)("div",{children:"To Be Developed"})};var G=function(){var e=Object(s.g)();return Object(y.jsxs)("div",{className:"welcome",children:[Object(y.jsx)("h2",{children:"Welcome"}),Object(y.jsxs)(x.a,{container:!0,direction:"column",alignItems:"center",spacing:2,children:[Object(y.jsx)(x.a,{item:!0,xs:8,children:Object(y.jsx)(o.b,{to:"/meetaneed",className:"/meetaneed"===e.pathname,style:{textDecoration:"none"},children:Object(y.jsx)(v.a,{style:{minWidth:"170px"},variant:"contained",color:"primary",children:"Fill a Need"})})}),Object(y.jsx)(x.a,{item:!0,xs:8,children:Object(y.jsx)(o.b,{to:"/opportunities",style:{textDecoration:"none"},className:"/opportunities"===e.pathname,children:Object(y.jsx)(v.a,{style:{minWidth:"170px"},variant:"contained",color:"primary",children:"My Commitments"})})}),Object(y.jsx)(x.a,{item:!0,xs:8,children:Object(y.jsx)(o.b,{to:"/history",className:"/history"===e.pathname,style:{textDecoration:"none"},children:Object(y.jsx)(v.a,{style:{minWidth:"170px"},variant:"contained",color:"primary",children:"My History"})})})]})]})},z=Object(a.createContext)();function R(e){var t=e.children,n=Object(a.useState)(!1),c=Object(O.a)(n,2),i=c[0],r=c[1];return Object(a.useEffect)((function(){if(!i){var e=JSON.parse(localStorage.getItem("login"));e&&e.token&&r(!0)}}),[]),Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(z.Provider,{value:{isAuthenticated:i,setIsAuthenticated:r},children:t})})}n(122);var H=function(){var e=Object(a.useContext)(z),t=e.userObject,n=e.isAuthenticated;return console.log(t,n),Object(y.jsx)("div",{className:"App",children:Object(y.jsx)(o.a,{children:Object(y.jsxs)(s.d,{children:[Object(y.jsx)(s.b,{exact:!0,path:"/",children:n?Object(y.jsx)(G,{}):Object(y.jsx)(s.a,{to:"/login"})}),Object(y.jsx)(s.b,{exact:!0,path:"/login",children:n?Object(y.jsx)(s.a,{to:"/"}):Object(y.jsx)(P,{})}),Object(y.jsx)(s.b,{exact:!0,path:"/opportunities",children:n?Object(y.jsx)(W,{}):Object(y.jsx)(s.a,{to:"/login"})}),Object(y.jsx)(s.b,{exact:!0,path:"/meetaneed",children:n?Object(y.jsx)(M,{}):Object(y.jsx)(s.a,{to:"/login"})}),Object(y.jsx)(s.b,{exact:!0,path:"/history",children:n?Object(y.jsx)(F,{}):Object(y.jsx)(s.a,{to:"/login"})})]})})})};r.a.render(Object(y.jsx)(R,{children:Object(y.jsx)(H,{})}),document.getElementById("root"))}},[[123,1,2]]]);
//# sourceMappingURL=main.8c51437c.chunk.js.map